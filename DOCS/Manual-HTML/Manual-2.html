<HTML>
<HEAD>
<TITLE>BRLTTY: Using BRLTTY</TITLE>
</HEAD>
<BODY>
<A HREF="Manual-1.html">Previous</A>
<A HREF="Manual-3.html">Next</A>
<A HREF="Manual.html#toc2">Table of Contents</A>
<HR>
<H2><A NAME="s2">2. Using BRLTTY</A></H2>

<P>Before you activate the system, you should set up your Braille 
display device.  In most cases this is simple: just connect it to an 
appropriate serial port and turn the display on, if necessary 
selecting the serial interface.</P>
<P>Having set up your display, to run BRLTTY simply type the command
<CODE>brltty</CODE> at a shell prompt (this must be done as root).  The
program will load and a message giving the program name (BRLTTY) and
current version number will appear briefly on the display device.
After this, the display will show a small area of the console screen
including a cursor.  By default the cursor is represented as dots 7
and 8 superimposed over the character it is on.</P>
<P>Any screen activity will be reflected in the Braille display.  The 
display will also follow the progress of the cursor on the screen.  
This feature is known as <EM>cursor tracking</EM>.</P>
<P>However, just typing and reading the display is not enough: try 
entering a command which will cause an error and press <EM>enter</EM>.  
The error will appear on the screen, but unless you have a multi line 
display, the chances are that the error message will not be visible on 
the Braille display, all you will see is another shell prompt.  What 
is needed then is some means of moving the Braille <EM>window</EM> around 
the screen.</P>

<H2><A NAME="ss2.1">2.1 Basic Movement Keys</A></H2>

<P>All commands to BRLTTY are given using the Braille keys on the
Braille display.  Unfortunately, there seems to be no standard set of
controls available across different displays: some have six dot keys
(like a Braille writing machine), others have thumb keys; some even
have buttons above each character in the display.  Some displays have
all three types.  Because the nature and layout of such keys is so
varied, refer to the <CODE>README</CODE> file for your display for the keys
you press for each operation.  In this manual functions will be indicated
by name.</P>
<P>Commands generally consist of a single Braille key or combination of
Braille keys, which can be issued at any time BRLTTY is running.  The
most important commands are those which move the Braille window around
the console screen.  Most of them do not affect the console cursor, or
any program you are running.</P>
<P>
<DL>
<DT><B>Moving Vertically:</B><DD><P>
<DL>
<DT><B>TOP</B><DD><P>Move to top of screen</P>
<DT><B>BOT</B><DD><P>Move to bottom of screen</P>
<DT><B>WINUP</B><DD><P>Move up several lines</P>
<DT><B>WINDN</B><DD><P>Move down several lines</P>
<DT><B>LNUP</B><DD><P>Move up one line</P>
<DT><B>LNDN</B><DD><P>Move down one line</P>
<DT><B>PRDIFLN</B><DD><P>Skip to the previous different line</P>
<DT><B>NXDIFLN</B><DD><P>Skip to the next different line</P>
<DT><B>ATTRUP</B><DD><P>Skip to the previous line that contains characters with 
different attributes from those on the current line. (NEW)</P>
<DT><B>ATTRDN</B><DD><P>Skip to the next line that contains characters with 
different attributes from those on the current line. (NEW)</P>
</DL>
</P>
<DT><B>Moving Horizontally:</B><DD><P>
<DL>
<DT><B>LNBEG</B><DD><P>Move to start of line</P>
<DT><B>LNEND</B><DD><P>Move to end of line</P>
<DT><B>HWINLT</B><DD><P>Move left half a window</P>
<DT><B>HWINRT</B><DD><P>Move right half a window</P>
<DT><B>CHRLT</B><DD><P>Move left one character</P>
<DT><B>CHRRT</B><DD><P>Move right one character</P>
</DL>
</P>
<DT><B>Moving Both Horizontally and Vertically:</B><DD><P>
<DL>
<DT><B>TOP_LEFT</B><DD><P>Move to top left of screen</P>
<DT><B>BOT_LEFT</B><DD><P>Move to bottom left of screen</P>
<DT><B>HOME</B><DD><P>Move window to cursor</P>
<DT><B>FWINLT</B><DD><P>Move left one window distance</P>
<DT><B>FWINRT</B><DD><P>Move right one window distance</P>
</DL>
</P>
</DL>
</P>
<P>The <EM>FWINLT</EM> and <EM>FWINRT</EM> keys can be used to read backwards and
forwards, as they scroll to the previous or next line respectively if
invoked from the end of a line.  This makes them particularly useful
when reading text.</P>
<P>If you do not remember a command, help is available using the 
<EM>HELP</EM> command.  Use the movement keys as above to navigate the 
help screen and <EM>HELP</EM> again to quit.</P>
<P>The behaviour of the <EM>LNUP</EM> and <EM>LNDN</EM> keys depends on whether
the skipping of identical lines is enabled, either by the
<EM>SKPIDLNS</EM> key or from the configuration menu (see section 
<A HREF="#confmenu">The Online Configuration Menu</A>).  If this is
enabled, they act like the <EM>PRDIFLN</EM> and <EM>NXDIFLN</EM> keys.  (Note
that the line containing the cursor is considered to be different from
other lines.)</P>


<H2><A NAME="ss2.2">2.2 Modes</A></H2>

<P>In addition to the commands above, BRLTTY offers many other useful 
features:</P>
<P>
<DL>
<DT><B><EM>CSRTRK</EM>: Toggle cursor tracking</B><DD><P>Default: on.  When cursor tracking is on, movement of the console
cursor will automatically adjust the display window position so that
the cursor is always in the window.  It is sometimes useful to turn
this feature off so you can monitor a particular region of the screen
easily.</P>
<DT><B><EM>DISPMD</EM>: Toggle attribute display</B><DD><P>Default: off.  If the attribute display is on, the attributes (colour
information) of each character, rather than the characters themselves
are displayed.  It can be useful to turn attribute display on to
enable detection of highlighted items.</P>
<DT><B><EM>FREEZE</EM>: Toggle screen freezing</B><DD><P>Default: off.  The freeze function exists to allow easy reading of
changing screens.  When you turn freeze on, the current screen
contents are stored temporarily and any new screen activity is not
reflected in the Braille.  Remember to turn freezing off again when
you wish to resume normal operation.</P>
<DT><B><EM>INFO</EM>: Status information</B><DD><P>Default: off.  The status function switches the display to the status
screen.  This shows information including the physical cursor
position, the position of the start of the Braille display window and
the settings of various flags.  Some display types have some of this
information permanently shown in their <EM>status cells</EM>.  See the
<CODE>README</CODE> file for information about your display.</P>
<P>The window start position and physical cursor position are displayed 
in the form <I>cc:rr</I>, where <I>cc</I> is the current column and 
<I>rr</I> is the current row.  Then follows a series of flags:
<OL>
<LI> Cursor tracking.  When on <CODE>t</CODE>, space otherwise</LI>
<LI> Cursor visibility.
<DL>
<DT><B><CODE>v</CODE></B><DD><P>Cursor visible, no blink</P>
<DT><B><CODE>B</CODE></B><DD><P>Cursor is visible and blinking</P>
<DT><B><CODE>b</CODE></B><DD><P>Cursor not visible but blinking is on</P>
<DT><B>space</B><DD><P>Cursor not visible and blinking is off</P>
</DL>
</LI>
<LI> Display mode.  <CODE>a</CODE> attribute, <CODE>t</CODE> text</LI>
<LI> Screen state.  <CODE>f</CODE> frozen, space live</LI>
<LI> Braille representation, 6 or 8 dot</LI>
<LI> Blinking capitals.  <CODE>B</CODE> on, space otherwise</LI>
</OL>
</P>
<P>When in the status screen, all information may be updated by console 
screen activity or BRLTTY commands.  Press <EM>INFO</EM> to return to 
normal operation.</P>
</DL>
</P>


<H2><A NAME="ss2.3">2.3 Cursor Routing</A></H2>

<P>It often happens that you are moving the display window around the
screen examining the text in, say, a text editor and you want to move
the physical cursor to where your window display is.  Cursor routing
provides just such a facility by simulating your keystrokes.  Type
<EM>CSRJMP</EM> and your cursor will be moved to the start position of the
display window.  Some Braille displays have buttons above each cell:
these may also be used to move the cursor to that position.  Others
bind Braille keys to the cursor keys on the keyboard to allow a manual
form of cursor routing.</P>
<P>Note: Cursor routing is not yet completely reliable.  It currently
uses hard-wired vt100 cursor key codes to move in the correct
directions.  Also, this may not work as well on heavily loaded systems
(see <CODE>config.h</CODE> for further details).</P>
<P>Once you give a cursor routing command, BRLTTY will keep trying to
route the cursor until either the cursor seems to go in the wrong direction
or 2 seconds elapse without reaching the target position or you change
virtual console. If you give another cursor routing command, BRLTTY gives up
the first and attempts the second.</P>
<P>A new command, called <EM>CSRJMP_VERT</EM>, routes the cursor to anywhere on the
current line without adjusting the horizontal position. This is especially
useful within lynx as left and right arrow keys are never simulated.</P>


<H2><A NAME="ss2.4">2.4 Cut &amp; Paste</A></H2>

<P>This feature enables you to grab some text already on the screen 
and re-enter it at the cursor, thus saving time and avoiding errors when
copying complicated text. It is particularly useful for items such as long
filenames, complicated commands, E-mail addresses or long URLs.</P>
<P>First, mark the (rectangular) area on the screen to grab (cut): To
mark the top left corner press <EM>CUTBEG</EM>.  The top left corner of
the marked area is set to the extreme left position of the window and
the <EM>cut buffer</EM> is cleared.  To mark the bottom right corner press
<EM>CUTEND</EM>: the bottom right corner of the area to cut is set to the last
position of the braille window and the area you defined is then copied into
the <EM>cut buffer</EM>.  BRLTTY removes excess white space at the end of each
line in the <EM>cut buffer</EM> so you don't get extra spaces after your cut text.
Some displays support more accurate <EM>cut &amp; paste</EM> using the
buttons above the Braille cells, see the <CODE>README</CODE> file for your
display.</P>
<P>To paste the text, i.e. type it at the cursor position, press 
<EM>PASTE</EM>.  You can paste the stored text any number of times without 
re-cutting it.</P>


<H2><A NAME="confmenu"></A> <A NAME="ss2.5">2.5 The Online Configuration Menu</A></H2>

<P>When BRLTTY starts, it loads a configuration file from which it reads your
preference settings. Several features of BRLTTY can be enabled, disabled or
adjusted. BRLTTY has a simple menu from which you can change these settings
conviniently. The menu is activated by pressing <EM>CONFMENU</EM>.  The 
display will briefly show the menu title and then display the 
current item and parameter.</P>
<P>To move around in the menu, that is to go from an item to another, use the
normal window movement keys as follows:
<DL>
<DT><B><EM>LNUP</EM> and <EM>LNDN</EM>:</B><DD><P>move to the previous or next item in the
menu;</P>
<DT><B><EM>TOP</EM> or <EM>TOP_LEFT</EM> or <EM>HOME</EM>:</B><DD><P>move to the first item;</P>
<DT><B><EM>BOT</EM> or <EM>BOT_LEFT</EM>:</B><DD><P>moves to the last item.</P>
</DL>
</P>
<P>To adjust the setting of a parameter use either <EM>KEY_LEFT</EM> and
<EM>KEY_RIGHT</EM> or <EM>KEY_UP</EM> and <EM>KEY_DOWN</EM>: this selects alternative
setting options. Cursor routing keys can also be used to set the desired
value.  To undo all the changes made since entering the menu use <EM>RESET</EM>.</P>
<P>To leave the menu and return to normal operation, press  <EM>CONFMENU</EM> again,
or any key not listed above.  If the <EM>save config on exit</EM> option is on, the
current settings will be written to the <EM>configuration file</EM>.</P>
<P>Most of the parameters available through the menu can also be set 
using single key strokes (shortcut keys) to toggle them.</P>
<P>Here is a description of each configurable parameter. The shortcut keys that
toggle certain parameters are also listed.</P>
<P>
<DL>
<DT><B><EM>Cursor is visible</EM> (shortcut <EM>CSRVIS</EM>): Toggle cursor visibility</B><DD><P>Default: on.  This function, when enabled, shows the position of the
cursor (either steady or blinking) on the display.  It is sometimes
useful to turn this function off to examine text where a cursor symbol
only serves to obscure reading.</P>
<DT><B><EM>Block cursor</EM> (shortcut <EM>CSRSIZE</EM>): Toggle cursor shape</B><DD><P>Default: off.  This function switches the cursor shape: all eight dots (block)
or just the bottom two (underline).  Choose the one you prefer.</P>
<DT><B><EM>Blinking cursor</EM> (shortcut <EM>CSRBLINK</EM>): Toggle blinking cursor</B><DD><P>Default: off.  If this function is enabled, the screen cursor will
blink on the display, that is, it will only be present a portion of
the time.  When the cursor is off, you will be able to view the
character beneath the cursor.</P>
<DT><B><EM>Blinking capitals</EM> (shortcut <EM>CAPBLINK</EM>): Toggle blinking caps</B><DD><P>Default: off.  Similar to the cursor blinking function, if this
function is enabled, capital letters will blink on the display.  This
is most useful when using 6 dot Braille.</P>
<DT><B><EM>Attributes are visible</EM> (shortcut <EM>ATTRVIS</EM>): Toggle attribute underlining
    (NEW)</B><DD><P>Default off. When this mode is enabled, any characters with non plain
attributes (inverse video, color, highlighting...) will be emphasized by
superimposing either dots 7-8 or just dot 8 on the braille character. A
seperate function controls whether the superimposed dots blink or not. Text
marked with dots 7-8 is not in the same attribute as text marked only with dot
8. This is still experimental.</P>
<DT><B><EM>Blinking attributes</EM> (shortcut <EM>ATTRBLINK</EM>): Toggle blinking of
    attribute underlining</B><DD><P>Default: on.  This controls whether or not dots superimposed on characters with
special attributes will blink or not.</P>
<DT><B><EM>Blinking cursor visible period</EM> and
   <EM>Blinking cursor invisible period</EM>: Control rate of cursor
    blinking</B><DD><P>These parameters are not toggles. The value of the settings for these items
is an integer. Together, these parameters control the rate at which the cursor
blinks (when the cursor is visible and blinking is enabled). The cursor will
alternatingly be present (on) and absent (off). <EM>csr on</EM> specifies how
long, in BRLTTY main loop cycles, the cursor will be present (stay
on). Similarly, <EM>csr off</EM> specifies how long the cursor stays off. The
duration of a blink round is therefore the sum on the <EM>csr on</EM> and <EM>csr
off</EM> settings. The duration of a cycle of the main loop is variable: very
roughly about 0.1 seconds. It may be helpful to set cursor, cap and attribute
blinking to different rates.</P>
<DT><B><EM>Blinking caps visible period</EM> and
    <EM>Blinking caps invisible period</EM>: Control rate of
    capital letters' blinking</B><DD><P>This option works like the cursor blinking rate parameter.</P>
<DT><B><EM>Blinking attributes visible period</EM> and
      <EM>Blinking attributes invisible period</EM>: Control rate of
    attribute underlining blinking</B><DD><P>This option works like the cursor blinking rate parameter.</P>
<DT><B><EM>Six dot text modet</EM> (shortcut <EM>SIXDOTS</EM>): Braille representation</B><DD><P>Default: 8 dot.  This function switches between 6 and 8 dot Braille
codes.  When 6 dot mode is chosen, the bottom dots (7 and 8) of all
ordinary characters are removed.</P>
<DT><B><EM>Sliding window</EM> (shortcut <EM>SLIDEWIN</EM>): Toggle sliding window</B><DD><P>Default: off.  This feature, in conjunction with <EM>cursor tracking</EM>,
moves the display window more smoothly when the physical cursor moves
beyond the right edge of the window.  With <EM>sliding window</EM> off,
whenever the cursor moves beyond the right edge of the window, the
window moves by one window width.  When on, the window moves by a
quarter of this width.</P>
<DT><B><EM>Skip identical lines</EM> (shortcut <EM>SKPIDLNS</EM>): Toggle skipping of
    identical lines</B><DD><P>Default: off.  This feature provides an alternative interface to line
skipping on displays which do not provide the <EM>PRDIFLN</EM> and
<EM>NXDIFLN</EM> keys.  When enabled, it makes the <EM>LNUP</EM> and <EM>LNDN</EM>
keys skip identical lines.</P>
<DT><B><EM>Audio signals</EM> (shortcut <EM>SND</EM>): Toggle audio signals</B><DD><P>Default: on.  When on, BRLTTY beeps when certain events occur (such as
moving beyond the edge of the screen).  Beeps also confirm the
settings of some toggle options.</P>
<DT><B><EM>Status cells style</EM>: Set status cell style</B><DD><P>The setting is an integer, rather than a toggle. This allows changing the
style in which status cells are used. There is roughly a style for each brand
of displays, which reflects the preferences of the programmer of the driver
for that brand. However it is possible to try out the status cell style
intended for another brand. However, not all styles work on all displays,
since not all displays have the same number of status cells: if you try a
style designed for more status cells than your display has, some information
will be missing. Some displays have no status cells at all. The available
styles are:
<UL>
<LI> 0 = nothing is displayed on the status cells</LI>
<LI> 1 = Alva style</LI>
<LI> 2 = Tieman style</LI>
<LI> 3 = PowerBraille 81 style (1 cell)</LI>
<LI> 4 = Papenmeier style</LI>
</UL>
</P>
<DT><B><EM>save config on exit</EM>: Save configuration on exit</B><DD><P>As indicated above, this controls whether or not the configuration should be
saved to the configuration file upon exiting the configuration menu.</P>
</DL>
</P>
<P>If <EM>save config on exit</EM> is off or if you changed some settings by using shortcut
keys, you may want to manually save the current settings to the configuration
file. To do so, type <EM>SAVECONF</EM>.</P>
<P>The configuration file is currently a binary file and cannot
be edited by hand.</P>
<P>To reload the configurable settings from the configuration file, press
<EM>RESET</EM>.</P>


<H2><A NAME="switches"></A> <A NAME="ss2.6">2.6 Command Line Options</A></H2>

<P>BRLTTY has the following command line options.  Use these to start 
BRLTTY using settings other than the defaults.
<DL>
<DT><B><CODE>-c</CODE> <EM>config-file</EM></B><DD><P>Use binary configuration file 
<EM>config-file</EM> instead of <CODE>brlttyconf.dat</CODE>.</P>
<DT><B><CODE>-d</CODE> <EM>serial-device</EM></B><DD><P>Use <EM>serial-device</EM> to access 
Braille terminal instead of the default (normally <CODE>/dev/ttyS0</CODE>)</P>
<DT><B><CODE>-t</CODE> <EM>text-trans-file</EM></B><DD><P>Use translation table
<EM>text-trans-file</EM> instead of the default.  In VErsion 1.0.1 the
default is compiled in; in previous versions the file <CODE>us.tbl</CODE> was
loaded.</P>
<DT><B><CODE>-h</CODE>, <CODE>--help</CODE></B><DD><P>Print a brief help message and exit</P>
<DT><B><CODE>-l</CODE> <EM>n</EM></B><DD><P>Set debugging level for syslog to <EM>n</EM>
(from 0 to 7, default 4)</P>
<DT><B><CODE>-q</CODE>, <CODE>--quiet</CODE></B><DD><P>Suppress start-up messages</P>
<DT><B><CODE>-v</CODE>, <CODE>--version</CODE></B><DD><P>Print start-up messages and exit</P>
</DL>
</P>
<P>You can, of course, permanently configure the default settings of the
first two options (as well as which text translation table to use as
the default) at compilation.</P>



<HR>
<A HREF="Manual-1.html">Previous</A>
<A HREF="Manual-3.html">Next</A>
<A HREF="Manual.html#toc2">Table of Contents</A>
</BODY>
</HTML>
