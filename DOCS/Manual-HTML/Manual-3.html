<HTML>
<HEAD>
<TITLE>BRLTTY: Configuring BRLTTY</TITLE>
</HEAD>
<BODY>
<A HREF="Manual-2.html">Previous</A>
<A HREF="Manual-4.html">Next</A>
<A HREF="Manual.html#toc3">Table of Contents</A>
<HR>
<H2><A NAME="s3">3. Configuring BRLTTY</A></H2>

<P>Most if not all of the settings of BRLTTY are configurable through
the configuration menu.  Those that are not (e.g. cursor routing
performance) can be altered permanently by modifying the source and
recompiling.</P>

<H2><A NAME="ss3.1">3.1 The Braille Translation Tables</A></H2>

<P>BRLTTY uses two <EM>Braille translation tables</EM> to govern the
mapping from character/attribute number to dot combination.  The
first, and most important, is the text translation table.</P>
<P>BRLTTY is initially configured to use the North American Braille
Computer Code (NABCC).  However, as well as the default text
translation table file (<CODE>us.tbl</CODE>), BRLTTY comes with four
alternative tables: <CODE>french.tbl</CODE>, <CODE>german.tbl</CODE>, <CODE>simple.tbl</CODE>
and <CODE>uk.tbl</CODE>.  See section 
<A HREF="Manual-2.html#switches">Command Line Options</A> for details of using alternative translation tables.</P>
<P>The attribute translation table is used when BRLTTY is in attribute
display mode.  There is currently only the default table,
<CODE>attrib.tbl</CODE>.  This was designed so that each dot represents one
bit of the attribute byte, with the foreground colour on the right
(dots 4, 5, 6, 8) and the background colour on the left.  A foreground
bit being on or a background bit being off triggers the corresponding
dot: this odd logic in practice aids readability of the most common
attributes.</P>
<P>These translation tables are 256-byte binary files.  The
character/attribute value is used as an index into the file, and the
byte at that position gives the corresponding dot combination.</P>
<P>The mapping from bit number to physical dot position varies from
display to display and can be fairly arbitrary.  An attempt has
therefore been made to standardise by defining the action of each bit
in a table entry.  The Braille display drivers then perform any
necessary adjustment for the display.</P>
<P>
<DL>
<DT><B>Bit 0</B><DD><P>Dot 1 (top left)</P>
<DT><B>Bit 1</B><DD><P>Dot 4 (top right)</P>
<DT><B>Bit 2</B><DD><P>Dot 2 (below 1)</P>
<DT><B>Bit 3</B><DD><P>Dot 5 (below 4)</P>
<DT><B>Bit 4</B><DD><P>Dot 3 (below 2)</P>
<DT><B>Bit 5</B><DD><P>Dot 6 (below 5)</P>
<DT><B>Bit 6</B><DD><P>Dot 7 (bottom left)</P>
<DT><B>Bit 7</B><DD><P>Dot 8 (bottom right)</P>
</DL>
</P>
<P>In each case, a bit being set means that the corresponding dot is
present.</P>
<P>Two small utilities, <CODE>txt2tbl</CODE> and <CODE>tbl2txt</CODE> are provided for 
easy manipulation of these translation files, see below.</P>
<P>The filenames of the compiled-in translation tables are defined in
<CODE>Makefile</CODE>.  Any changes you make to these will take effect on
recompiling the software.  However, you can use an alternative text
translation table, see section 
<A HREF="Manual-2.html#switches">Command Line Options</A>.</P>



<H2><A NAME="tbltools"></A> <A NAME="ss3.2">3.2 Table Utilities</A></H2>

<P><CODE>txt2tbl</CODE> and <CODE>tbl2txt</CODE> are simple programs to convert
between binary table files and a textual representation (as used by
some DOS drivers).  They can be used to create or modify text
translation table files without the need to plunge into binary editors
and hexadecimal numbers.</P>
<P>To use either of these programs, type:
<BLOCKQUOTE><CODE>
<PRE>
   progname input output
</PRE>
</CODE></BLOCKQUOTE>

There are no other command line options.</P>
<P>In the textual representation, each table entry is written as a line.  
The active part of the line is all the characters between the first 
pair of parentheses---these utilities ignore all other characters.</P>
<P>Between parentheses are numbers representing the setting of the 
corresponding Braille dot (see above).  Offsets into the binary table 
file are allocated sequentially from 0 to 255.</P>
<P>For example, the 91th line (ASCII 90 = `Z') in the table might look 
like:
<BLOCKQUOTE><CODE>
90  (1 3 567 )
</CODE></BLOCKQUOTE>
</P>
<P><CODE>convtable</CODE> is a filter to convert Braille tables between different
binary formats: BRLTTY standard, The standard used by Tieman B.V. and
that used by both Alva B.V. and Telesensory Systems Inc.  For
instance, type
<BLOCKQUOTE><CODE>
<PRE>
   convtable src dest &lt; input &gt; output
</PRE>
</CODE></BLOCKQUOTE>

where <EM>src</EM> and <EM>dest</EM> can be <EM>s</EM> for standard (BRLTTY),
<EM>t</EM> for Tieman or <EM>a</EM> for Alva/TSI mappings.</P>


<HR>
<A HREF="Manual-2.html">Previous</A>
<A HREF="Manual-4.html">Next</A>
<A HREF="Manual.html#toc3">Table of Contents</A>
</BODY>
</HTML>
